#+TITLE: Emacs personal configuration File
#+AUTHOR: Antonio Aslan Suarez

* Packages Manager and packages
  Here we will set all the packages that will be used in this configuration file.
** Package manager configuration
  This part of the configuration file will configure the package manager which is the [[https://github.com/raxod502/straight.el][straight.el]] package manager.
   #+begin_src emacs-lisp
     (defvar bootstrap-version)
     (let ((bootstrap-file
	    (expand-file-name "straight/repos/straight.el/bootstrap.el" user-emacs-directory))
	   (bootstrap-version 5))
       (unless (file-exists-p bootstrap-file)
	 (with-current-buffer
	     (url-retrieve-synchronously
	      "https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"
	      'silent 'inhibit-cookies)
	   (goto-char (point-max))
	   (eval-print-last-sexp)))
       (load bootstrap-file nil 'nomessage))
   #+end_src
** GUI
   The first thing to configure as always shall be the Graphical Interface. For this purpose, the following packages will be used:
   - [[https://github.com/emacs-dashboard/emacs-dashboard][DashBoard]]: Extensible startup screen. All can be changed.
   - [[https://github.com/justbur/emacs-which-key][which-key]]: Every command in emacs is followed by a display showing the possible combination of commands.
   - [[https://github.com/domtronn/all-the-icons.el][all-the-icons]]: Helpful for working and installing icons.
   - [[https://github.com/purcell/page-break-lines][page-break-lines]]: Helps to render all page break as horizontal lines.
   - [[https://github.com/dbordak/telephone-line][telephone-line]]: Configures the line at the bottom of the text editor.
   - [[https://github.com/gonewest818/dimmer.el][Dimmer]]: Dims the emacs window that is not currently selected.
   - [[https://github.com/hlissner/emacs-doom-themes][doom-themes]].
   #+begin_src emacs-lisp
     (straight-use-package 'dashboard)
     (straight-use-package 'which-key)
     (straight-use-package 'all-the-icons)
     (straight-use-package 'page-break-lines)
     (straight-use-package 'telephone-line)
     (straight-use-package 'doom-themes)
     (straight-use-package 'dimmer)
   #+end_src
** Evil Mode
   Vim in emacs!
   - [[https://github.com/emacs-evil/evil][Evil]]: Basic vim emulation.
   - [[https://github.com/hlissner/evil-snipe][evil-snipe]]: vim-sneek.
   - [[https://github.com/cofi/evil-leader][evil-leader]]: Provides the Leader key functionality.
   - [[https://github.com/emacs-evil/evil-surround][evil-surround]]: Vim surround plugin.  
   - [[https://github.com/redguardtoo/evil-nerd-commenter][evil-nerd-commenter]].  
   - [[https://github.com/Somelauw/evil-org-mode][evil-org.]] 
   #+begin_src emacs-lisp
     (straight-use-package 'evil)
     (straight-use-package 'evil-snipe)
     (straight-use-package 'evil-leader)
     (straight-use-package 'evil-surround)
     (straight-use-package 'evil-nerd-commenter)
     (straight-use-package 'evil-org)
   #+end_src
** Functionality
   #+begin_src emacs-lisp
     (straight-use-package 'helm)
     (straight-use-package 'helm-projectile)
     (straight-use-package 'magit)
     (straight-use-package 'projectile)
     (straight-use-package 'general)
     (straight-use-package 'avy)
   #+end_src
** Programming
   Used to program and snippets.
   #+begin_src emacs-lisp
     (straight-use-package 'lsp-mode)
     (straight-use-package 'company)
     (straight-use-package 'yasnippet)
     (straight-use-package 'yasnippet-snippets)
     (straight-use-package 'cmake-mode)
     (require 'cmake-mode)
   #+end_src
** Documents and LaTeX
   #+begin_src emacs-lisp
     (straight-use-package 'pdf-tools)
     (straight-use-package 'auctex)
   #+end_src
** Org-mode
   #+begin_src emacs-lisp
     (straight-use-package 'org-bullets)
   #+end_src

   
* GUI Configuration
  For configuring the GUI, it not only required to add a couple of packages, some things should be configured by hand.
** Font and size
   #+begin_example emacs-lisp
(set-face-attribute 'default nil :family "Iosevka" :height 130)
   #+end_example
** Scroll bars
   #+begin_src emacs-lisp
;; hide scroll bar in new frames
(defun my/disable-scroll-bars (frame)
  (modify-frame-parameters frame
                           '((vertical-scroll-bars . nil)
                             (horizontal-scroll-bars . nil))))
(add-hook 'after-make-frame-functions 'my/disable-scroll-bars)

;; scroll off
(setq scroll-margin 7)
(setq scroll-conservatively 999) ;; do not center when scrolling
   #+end_src
** Line numbering
   In this configuration, line numbers will only appear when working on coding projects. For example not in org files.
   #+begin_example emacs-lisp
   (add-hook 'global 'display-line-numbers-mode)	; only show numbers in programming buffers
   (setq display-line-numbers-type 'relative)		; relative line numbers
   #+end_example
** Dashboard
   The welcome screen when emacs is opened can be configured here.
   #+begin_src emacs-lisp
     ;; dashboard
     (require 'dashboard)
     (dashboard-setup-startup-hook)
     (setq dashboard-startup-banner 'logo)
     (setq dashboard-center-content t)
     (setq dashboard-set-heading-icons t)
     (setq dashboard-set-file-icons t)
     (setq dashboard-set-init-info t)
     (setq dashboard-projects-backend 'projectile)
     (setq initial-buffer-choice (lambda () (get-buffer "*dashboard*")))
     (setq dashboard-items '((recents  . 5)
			     (bookmarks . 5)
			     (projects . 5)
			     (agenda . 5)
			     (registers . 5)))
   #+end_src
** Modeline or telephone-line
   The bar at the bottom of the text editor.
   #+begin_src emacs-lisp
     ;; modeline
     ;; for telephone-line configuration needs to be before (telephhone-line-mode 1)
     (require 'telephone-line)
     (setq telephone-line-primary-left-separator 'telephone-line-cubed-left
	   telephone-line-secondary-left-separator 'telephone-line-cubed-hollow-left
	   telephone-line-primary-right-separator 'telephone-line-cubed-right
	   telephone-line-secondary-right-separator 'telephone-line-cubed-hollow-right)
     (setq telephone-line-height 24)
     (setq telephone-line-lhs
	   '((evil   . (telephone-line-evil-tag-segment))
	     (accent . (telephone-line-vc-segment
			telephone-line-erc-modified-channels-segment
			telephone-line-process-segment))
	     (nil    . (telephone-line-buffer-segment
			telephone-line-minor-mode-segment))))
     (setq telephone-line-rhs
	   '((nil    . (telephone-line-misc-info-segment))
	     (accent . (telephone-line-major-mode-segment))
	     (evil   . (telephone-line-airline-position-segment))))
     (telephone-line-mode 1)
   #+end_src
** Theme and dimmer
   #+begin_src emacs-lisp
     ;; doom themes
     (load-theme 'doom-gruvbox t)

     ;; dimmer
     (require 'dimmer)
     (dimmer-configure-which-key)
     (dimmer-configure-helm)
     (dimmer-configure-magit)
     (dimmer-configure-which-key)
     (dimmer-configure-org)
     (dimmer-mode t)
   #+end_src
** Other minor configuration
   #+begin_src emacs-lisp
	  ;; hide GUI
	  (menu-bar-mode -1)
	  (toggle-scroll-bar -1)
	  (tool-bar-mode -1)
     ;; disable bell
     (setq ring-bell-function 'ignore)
;; Line highlighting
(global-hl-line-mode 1)

;; Show matching parenthesis
(show-paren-mode 1)

;; backup files to another folder
(setq backup-directory-alist `(("." . "~/.saves")))
   #+end_src

